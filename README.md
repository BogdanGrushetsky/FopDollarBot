# FOP Dollar Bot üíµ

Telegram-–±–æ—Ç –¥–ª—è –æ–±–ª—ñ–∫—É –¥–æ—Ö–æ–¥—ñ–≤ —É USD –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–æ–º –ø–æ–¥–∞—Ç–∫–æ–≤–æ—ó –±–∞–∑–∏, –ø—Ä–∏–±—É—Ç–∫—É/–∑–±–∏—Ç–∫—É —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é FIFO.

## üéØ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ—Ö–æ–¥—ñ–≤ —É USD –∑ —Ñ—ñ–∫—Å–∞—Ü—ñ—î—é –∫—É—Ä—Å—É –ù–ë–£ –Ω–∞ –¥–∞—Ç—É –æ—Ç—Ä–∏–º–∞–Ω–Ω—è
- üí∞ –ü—Ä–æ–¥–∞–∂ USD –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–æ–º –ø—Ä–∏–±—É—Ç–∫—É/–∑–±–∏—Ç–∫—É –∑–∞ –º–µ—Ç–æ–¥–æ–º FIFO
- üìä –ü–µ—Ä–µ–≥–ª—è–¥ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å—É —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- üí± –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ API –ù–ë–£ —Ç–∞ Monobank –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö –∫—É—Ä—Å—ñ–≤ –≤–∞–ª—é—Ç
- üóÑÔ∏è –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —É MongoDB
- üîí –û–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –ø–æ UserID (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞)
- üé® User-friendly —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑ —ñ–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∞–º–∏
- ‚ö° –ö–µ—à –∫—É—Ä—Å—ñ–≤ –≤–∞–ª—é—Ç –Ω–∞ 6 –º—ñ—Å—è—Ü—ñ–≤ –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
- ‚úÖ –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏ (Jest)
- üîß ESLint –¥–ª—è —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É

## üìã –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

### `/start`
–ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é –∑ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏:
- ‚ûï –î–æ–¥–∞—Ç–∏ USD
- üí∞ –ü—Ä–æ–¥–∞—Ç–∏ USD
- üìä –°—Ç–∞—Ç—É—Å
- ‚ùì –î–æ–≤—ñ–¥–∫–∞

### `/add_usd <—Å—É–º–∞> <YYYY-MM-DD>`
–î–æ–¥–∞—Ç–∏ –¥–æ—Ö—ñ–¥ —É –¥–æ–ª–∞—Ä–∞—Ö –Ω–∞ –ø–µ–≤–Ω—É –¥–∞—Ç—É.

**–ü—Ä–∏–∫–ª–∞–¥:**
```
/add_usd 100 2026-02-01
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –û—Ç—Ä–∏–º–∞—î –∫—É—Ä—Å –ù–ë–£ USD‚ÜíUAH –Ω–∞ –≤–∫–∞–∑–∞–Ω—É –¥–∞—Ç—É (–∑ –∫–µ—à—É –∞–±–æ API)
- –†–æ–∑—Ä–∞—Ö—É—î –ø–æ–¥–∞—Ç–∫–æ–≤—É –±–∞–∑—É (—Å—É–º–∞ √ó –∫—É—Ä—Å –ù–ë–£)
- –ó–±—ñ–ª—å—à–∏—Ç—å –±–∞–ª–∞–Ω—Å USD
- –ü–æ–∫–∞–∂–µ –∫—Ä–∞—Å–∏–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –¥–µ—Ç–∞–ª—è–º–∏

### `/sell_usd <—Å—É–º–∞> <YYYY-MM-DD>`
–ü—Ä–æ–¥–∞—Ç–∏ –¥–æ–ª–∞—Ä–∏ –Ω–∞ –ø–µ–≤–Ω—É –¥–∞—Ç—É.

**–ü—Ä–∏–∫–ª–∞–¥:**
```
/sell_usd 50 2026-02-04
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–Ω—ñ—Å—Ç—å –∫–æ—à—Ç—ñ–≤
- –û—Ç—Ä–∏–º–∞—î –∫—É—Ä—Å Monobank (–ø—Ä–æ–¥–∞–∂) –Ω–∞ –¥–∞—Ç—É
- –°–ø–∏—à–µ USD –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º FIFO (–ø–µ—Ä—à–∏–º –ø—Ä–∏–π—à–æ–≤ - –ø–µ—Ä—à–∏–º –ø—ñ—à–æ–≤)
- –†–æ–∑—Ä–∞—Ö—É—î –ø—Ä–∏–±—É—Ç–æ–∫/–∑–±–∏—Ç–æ–∫: `(—Å—É–º–∞ –ø—Ä–æ–¥–∞–∂—É) - (–ø–æ–¥–∞—Ç–∫–æ–≤–∞ –±–∞–∑–∞)`
- –ó–º–µ–Ω—à–∏—Ç—å –±–∞–ª–∞–Ω—Å USD
- –ü–æ–∫–∞–∂–µ –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –æ–ø–µ—Ä–∞—Ü—ñ—é

### `/status`
–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å.

**–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è:**
- üíµ –ë–∞–ª–∞–Ω—Å USD
- üìã –ü–æ–¥–∞—Ç–∫–æ–≤–∞ –±–∞–∑–∞ –∑–∞–ª–∏—à–∫—É (–∑–∞ –∫—É—Ä—Å–æ–º –ù–ë–£ –Ω–∞ –¥–∞—Ç—É –æ—Ç—Ä–∏–º–∞–Ω–Ω—è)
- üí± –ü–æ—Ç–æ—á–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –∑–∞–ª–∏—à–∫—É (–∑–∞ –∫—É—Ä—Å–æ–º Monobank —Å—å–æ–≥–æ–¥–Ω—ñ)
- üí∞/üìâ –ù–µ—Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –ø—Ä–∏–±—É—Ç–æ–∫/–∑–±–∏—Ç–æ–∫

### `/help` –∞–±–æ `/start`
–ü–æ–∫–∞–∑–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é.

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
cd FopDollarBot
```

### 2. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
npm install
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:
```bash
cp .env.example .env
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env` —Ç–∞ –¥–æ–¥–∞–π—Ç–µ —Å–≤–æ—ó –¥–∞–Ω—ñ:
```env
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/fop_dollar_bot?retryWrites=true&w=majority
ALLOWED_USER_ID=your_telegram_user_id_here
```

#### –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [@BotFather](https://t.me/BotFather) —É Telegram
2. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ `/newbot`
3. –î–∞–π—Ç–µ —ñ–º'—è –±–æ—Ç—É —Ç–∞ username
4. –°–∫–æ–ø—ñ—é–π—Ç–µ –æ—Ç—Ä–∏–º–∞–Ω–∏–π —Ç–æ–∫–µ–Ω —É `.env`

#### –Ø–∫ –¥—ñ–∑–Ω–∞—Ç–∏—Å—å —Å–≤—ñ–π Telegram User ID:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [@userinfobot](https://t.me/userinfobot) —É Telegram
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Start
3. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–∞—à User ID (—á–∏—Å–ª–æ) —É `.env`

**–í–∞–∂–ª–∏–≤–æ:** –¢—ñ–ª—å–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ –≤–∫–∞–∑–∞–Ω–∏–º ALLOWED_USER_ID –∑–º–æ–∂–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è –±–æ—Ç–æ–º!

#### –Ø–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ MongoDB Atlas:
1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å –Ω–∞ [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –∫–ª–∞—Å—Ç–µ—Ä (M0)
3. –î–æ–¥–∞–π—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
4. –î–æ–¥–∞–π—Ç–µ —Å–≤–æ—é IP-–∞–¥—Ä–µ—Å—É –¥–æ whitelist (–∞–±–æ `0.0.0.0/0` –¥–ª—è –¥–æ—Å—Ç—É–ø—É –∑–≤—ñ–¥—É—Å—ñ–ª—å)
5. –û—Ç—Ä–∏–º–∞–π—Ç–µ connection string —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –π–æ–≥–æ –¥–æ `.env`

### 4. –ó–±—ñ—Ä–∫–∞ –ø—Ä–æ—î–∫—Ç—É
```bash
npm run build
```

### 5. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

**–†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏:**
```bash
npm run dev
```

**–ü—Ä–æ–¥–∞–∫—à–Ω:**
```bash
npm start
```

### 6. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

**–í—Å—ñ —Ç–µ—Å—Ç–∏:**
```bash
npm test
```

**Watch —Ä–µ–∂–∏–º:**
```bash
npm run test:watch
```

**–ó coverage:**
```bash
npm run test:coverage
```

### 7. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É (ESLint)

**–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:**
```bash
npm run lint
```

**–í–∏–ø—Ä–∞–≤–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:**
```bash
npm run lint:fix
```

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ index.ts                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ models/                   # Mongoose –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ UsdIncome.ts          # –ú–æ–¥–µ–ª—å –¥–æ—Ö–æ–¥—ñ–≤ —É USD
‚îÇ   ‚îú‚îÄ‚îÄ UsdSale.ts            # –ú–æ–¥–µ–ª—å –ø—Ä–æ–¥–∞–∂—ñ–≤ USD
‚îÇ   ‚îî‚îÄ‚îÄ CurrencyCache.ts      # –ö–µ—à –∫—É—Ä—Å—ñ–≤ –≤–∞–ª—é—Ç (6 –º—ñ—Å.)
‚îú‚îÄ‚îÄ services/                 # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ CurrencyService.ts    # –†–æ–±–æ—Ç–∞ –∑ API –∫—É—Ä—Å—ñ–≤ –≤–∞–ª—é—Ç + –∫–µ—à
‚îÇ   ‚îî‚îÄ‚îÄ UsdService.ts         # FIFO, —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ P&L
‚îú‚îÄ‚îÄ handlers/                 # –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ BotHandlers.ts        # –û–±—Ä–æ–±–∫–∞ –∫–æ–º–∞–Ω–¥ + —ñ–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∏
‚îî‚îÄ‚îÄ __tests__/                # –¢–µ—Å—Ç–∏ Jest
    ‚îú‚îÄ‚îÄ CurrencyService.test.ts
    ‚îî‚îÄ‚îÄ UsdService.test.ts
```

## üì¶ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

### –ö–æ–ª–µ–∫—Ü—ñ—è `usd_incomes`:
```typescript
{
  userId: number;         // ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ Telegram
  amountUsd: number;      // –°—É–º–∞ –¥–æ—Ö–æ–¥—É –≤ USD
  remainingUsd: number;   // –ó–∞–ª–∏—à–æ–∫ USD (–¥–ª—è FIFO)
  nbuRate: number;        // –ö—É—Ä—Å –ù–ë–£ –Ω–∞ –¥–∞—Ç—É –¥–æ—Ö–æ–¥—É
  taxBaseUah: number;     // –ü–æ–¥–∞—Ç–∫–æ–≤–∞ –±–∞–∑–∞ –≤ UAH
  date: Date;             // –î–∞—Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ—Ö–æ–¥—É
  createdAt: Date;        // –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É
}
```

### –ö–æ–ª–µ–∫—Ü—ñ—è `usd_sales`:
```typescript
{
  userId: number;         // ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ Telegram
  amountUsd: number;      // –°—É–º–∞ –ø—Ä–æ–¥–∞–∂—É –≤ USD
  sellDate: Date;         // –î–∞—Ç–∞ –ø—Ä–æ–¥–∞–∂—É
  monobankRate: number;   // –ö—É—Ä—Å Monobank –Ω–∞ –¥–∞—Ç—É –ø—Ä–æ–¥–∞–∂—É
  sellUah: number;        // –û—Ç—Ä–∏–º–∞–Ω–∞ —Å—É–º–∞ –≤ UAH
  taxBaseUah: number;     // –ü–æ–¥–∞—Ç–∫–æ–≤–∞ –±–∞–∑–∞ –ø—Ä–æ–¥–∞–Ω–∏—Ö USD
  profit: number;         // –ü—Ä–∏–±—É—Ç–æ–∫/–∑–±–∏—Ç–æ–∫
  createdAt: Date;        // –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É
}
```

### –ö–æ–ª–µ–∫—Ü—ñ—è `currency_caches`:
```typescript
{
  provider: string;       // 'nbu' –∞–±–æ 'monobank'
  currencyCode: string;   // 'USD'
  date: Date;             // –î–∞—Ç–∞ –∫—É—Ä—Å—É
  rate: number;           // –ö—É—Ä—Å –≤–∞–ª—é—Ç–∏
  cachedAt: Date;         // –ö–æ–ª–∏ –∑–∞–∫–µ—à–æ–≤–∞–Ω–æ
  expiresAt: Date;        // –ö–æ–ª–∏ –≤–∏–¥–∞–ª–∏—Ç–∏ (TTL: 6 –º—ñ—Å—è—Ü—ñ–≤)
}
```

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏ FIFO

–ü—Ä–∏ –ø—Ä–æ–¥–∞–∂—É USD –±–æ—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–µ—Ç–æ–¥ **FIFO** (First In, First Out):

1. –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–π—Å—Ç–∞—Ä—ñ—à—ñ –¥–æ—Ö–æ–¥–∏ –∑ –∑–∞–ª–∏—à–∫–æ–º USD
2. –°–ø–∏—Å—É—î USD —É –ø–æ—Ä—è–¥–∫—É —ó—Ö –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è
3. –†–æ–∑—Ä–∞—Ö–æ–≤—É—î –ø–æ–¥–∞—Ç–∫–æ–≤—É –±–∞–∑—É –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å–ø–∏—Å–∞–Ω–Ω—è –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ
4. –°—É–º—É—î –∑–∞–≥–∞–ª—å–Ω—É –ø–æ–¥–∞—Ç–∫–æ–≤—É –±–∞–∑—É –ø—Ä–æ–¥–∞–Ω–∏—Ö USD
5. –û–±—á–∏—Å–ª—é—î –ø—Ä–∏–±—É—Ç–æ–∫: `(—Å—É–º–∞ –ø—Ä–æ–¥–∞–∂—É –≤ UAH) - (–ø–æ–¥–∞—Ç–∫–æ–≤–∞ –±–∞–∑–∞)`

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–î–æ—Ö—ñ–¥ 1: 100 USD @ 40 –≥—Ä–Ω (01.02.2026)
–î–æ—Ö—ñ–¥ 2: 50 USD @ 41 –≥—Ä–Ω (05.02.2026)

–ü—Ä–æ–¥–∞–∂: 120 USD @ 42 –≥—Ä–Ω (10.02.2026)

FIFO:
- 100 USD –∑ –î–æ—Ö–æ–¥—É 1: –±–∞–∑–∞ = 4000 –≥—Ä–Ω
- 20 USD –∑ –î–æ—Ö–æ–¥—É 2: –±–∞–∑–∞ = 820 –≥—Ä–Ω (–ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ)
- –ó–∞–≥–∞–ª—å–Ω–∞ –±–∞–∑–∞: 4820 –≥—Ä–Ω

–ü—Ä–æ–¥–∞–∂: 120 √ó 42 = 5040 –≥—Ä–Ω
–ü—Ä–∏–±—É—Ç–æ–∫: 5040 - 4820 = 220 –≥—Ä–Ω
```

## üîå API

### Monobank Public API
**Endpoint:** `https://api.monobank.ua/bank/currency`

–û—Ç—Ä–∏–º—É—î –ø–æ—Ç–æ—á–Ω—ñ –∫—É—Ä—Å–∏ –≤–∞–ª—é—Ç Monobank (–æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω).
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `rateSell` –¥–ª—è –ø—Ä–æ–¥–∞–∂—É USD
- –ö–µ—à—É—î—Ç—å—Å—è –Ω–∞ 6 –º—ñ—Å—è—Ü—ñ–≤

### –ù–ë–£ API
**Endpoint:** `https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json`

–û—Ç—Ä–∏–º—É—î –æ—Ñ—ñ—Ü—ñ–π–Ω—ñ –∫—É—Ä—Å–∏ –ù–ë–£ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –¥–∞—Ç—É.
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–æ–¥–∞—Ç–∫–æ–≤–æ—ó –±–∞–∑–∏
- –ö–µ—à—É—î—Ç—å—Å—è –Ω–∞ 6 –º—ñ—Å—è—Ü—ñ–≤

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

### –û—Å–Ω–æ–≤–Ω—ñ
- **Node.js** + **TypeScript** - –æ—Å–Ω–æ–≤–∞ –ø—Ä–æ—î–∫—Ç—É
- **node-telegram-bot-api** - Telegram Bot API –∑ —ñ–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∞–º–∏
- **mongoose** - ODM –¥–ª—è MongoDB –∑ TTL —ñ–Ω–¥–µ–∫—Å–∞–º–∏
- **axios** - HTTP –∫–ª—ñ—î–Ω—Ç –¥–ª—è API –∑–∞–ø–∏—Ç—ñ–≤
- **dotenv** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏–º–∏ –æ—Ç–æ—á–µ–Ω–Ω—è

### –†–æ–∑—Ä–æ–±–∫–∞ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **Jest** - —é–Ω—ñ—Ç-—Ç–µ—Å—Ç–∏ –∑ coverage
- **ts-jest** - TypeScript –¥–ª—è Jest
- **ESLint** - –ª—ñ–Ω—Ç–µ—Ä –∑ TypeScript –ø—Ä–∞–≤–∏–ª–∞–º–∏
- **@typescript-eslint** - –ø–ª–∞–≥—ñ–Ω–∏ –¥–ª—è ESLint

## üîê –ë–µ–∑–ø–µ–∫–∞

- üîí **–û–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É** - —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á (ALLOWED_USER_ID)
- ‚úÖ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö** - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –≤—Ö—ñ–¥–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- üõ°Ô∏è **–ó–∞—Ö–∏—Å—Ç API** - –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ rate limiting
- üìä **–ê—É–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü—ñ–π** - –≤—Å—ñ –¥—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î

## üìà –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

- ‚ö° **–ö–µ—à –∫—É—Ä—Å—ñ–≤** - 6 –º—ñ—Å—è—Ü—ñ–≤ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
- üóÑÔ∏è **–Ü–Ω–¥–µ–∫—Å–∏ MongoDB** - —à–≤–∏–¥–∫–∏–π –ø–æ—à—É–∫ –ø–æ userId —Ç–∞ –¥–∞—Ç—ñ
- üîÑ **TTL —ñ–Ω–¥–µ–∫—Å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –∫–µ—à—É
- üíæ **–ü—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏** - –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞ FIFO –ª–æ–≥—ñ–∫–∞

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

ISC

## üë®‚Äçüíª –†–æ–∑—Ä–æ–±–∫–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∫—Ä–∏–ø—Ç—ñ–≤:**
- `npm run dev` - –∑–∞–ø—É—Å–∫ —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ (ts-node)
- `npm run build` - –∑–±—ñ—Ä–∫–∞ TypeScript ‚Üí JavaScript
- `npm start` - –∑–∞–ø—É—Å–∫ –∑—ñ–±—Ä–∞–Ω–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É
- `npm run watch` - watch mode –¥–ª—è TypeScript
- `npm test` - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤
- `npm run test:watch` - —Ç–µ—Å—Ç–∏ –≤ watch mode
- `npm run test:coverage` - —Ç–µ—Å—Ç–∏ –∑ coverage –∑–≤—ñ—Ç–æ–º
- `npm run lint` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É ESLint
- `npm run lint:fix` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ ESLint

**–°—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è FOP-–ø—ñ–¥–ø—Ä–∏—î–º—Ü—ñ–≤** üá∫üá¶
